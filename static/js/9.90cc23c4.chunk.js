(this["webpackJsonpmy-react-app"]=this["webpackJsonpmy-react-app"]||[]).push([[9],{488:function(e,t,n){"use strict";n.r(t);var c=n(43),r=n(31),a=n(79),i=n(181),j=n(481),o=n(483),d=n(463),s=n(461),b=n(453),u=n.n(b),l=n(440),O=n(486),h=n(0),p=n.n(h),x=n(25),m=function(e){var t=e.checked,n=e.onCheckedChange,r=Object(i.a)(e,["checked","onCheckedChange"]);return Object(x.jsx)(O.a,Object(c.a)({count:1,value:t?1:0,onChange:function(e){return null===n||void 0===n?void 0:n(!!e)}},r))},f=n(439),k=n(101),v=n(445),g=function(e){var t=e.users,n=Object(i.a)(e,["users"]),r=Object(f.c)(Object(v.b)()).mutate;return Object(x.jsx)(j.a,Object(c.a)({pagination:!1,columns:[{title:Object(x.jsx)(m,{checked:!0,disabled:!0}),render:function(e,t){return Object(x.jsx)(m,{checked:t.pin,onCheckedChange:(n=t.id,function(e){return r({id:n,pin:e})})});var n}},{title:"\u540d\u79f0",sorter:function(e,t){return e.name.localeCompare(t.name)},render:function(e,t){return Object(x.jsx)(l.b,{to:String(t.id),children:t.name})}},{title:"\u90e8\u95e8",dataIndex:"organization"},{title:"\u8d1f\u8d23\u4eba",render:function(e,n){var c;return Object(x.jsx)("span",{children:(null===(c=t.find((function(e){return e.id===n.personId})))||void 0===c?void 0:c.name)||"\u672a\u77e5"})}},{title:"\u521b\u5efa\u65f6\u95f4",render:function(e,t){return Object(x.jsx)("span",{children:t.created?u()(t.created).format("YYYY-MM-DD"):"\u65e0"})}},{render:function(e,t){return Object(x.jsx)(y,{project:t})}}]},n))},y=function(e){var t,n=e.project,c=Object(v.a)().startEdit,r=Object(f.b)(Object(v.b)()).mutate;return Object(x.jsx)(d.a,{overlay:Object(x.jsxs)(s.a,{children:[Object(x.jsx)(s.a.Item,{children:Object(x.jsx)(k.a,{onClick:(t=n.id,function(){return c(t)}),type:"link",children:"\u7f16\u8f91\u9879\u76ee"})},"edit"),Object(x.jsx)(s.a.Item,{children:Object(x.jsx)(k.a,{onClick:function(){return function(e){o.a.confirm({title:"\ud83d\ude43\u4f60\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u4e2a\u9879\u76ee\ud83d\udc34\uff1f",content:"\ud83d\ude21\u522b\u602a\u6211\u6ca1\u63d0\u9192\u4f60",okText:"\ud83d\ude36\u786e\u5b9a",cancelText:"\ud83d\ude05\u7b97\u4e86\u7b97\u4e86",onOk:function(){r({id:e})}})}(n.id)},type:"link",children:"\u5220\u9664\u9879\u76ee"})},"delete")]}),children:Object(x.jsx)(k.a,{type:"link",children:"..."})})},C=n(484),I=n(490),Y=n(444),w=function(e){var t=e.param,n=e.setParam;return Object(x.jsxs)(C.a,{style:{marginBottom:"2rem"},layout:"inline",children:[Object(x.jsx)(C.a.Item,{children:Object(x.jsx)(I.a,{placeholder:"\u9879\u76ee\u540d",type:"text",value:t.name,onChange:function(e){return n(Object(c.a)(Object(c.a)({},t),{},{name:e.target.value}))}})}),Object(x.jsx)(C.a.Item,{children:Object(x.jsx)(Y.a,{defaultOptionName:"\u8d1f\u8d23\u4eba",value:t.personId,onChange:function(e){n(Object(c.a)(Object(c.a)({},t),{},{personId:e}))}})})]})},z=n(442),D=p.a.memo((function(){Object(a.g)("\u9879\u76ee\u5217\u8868",!1);var e=Object(v.c)(),t=Object(r.a)(e,2),n=t[0],i=t[1],j=Object(a.f)({name:n.name},2e3),o=Object(f.e)(Object(c.a)(Object(c.a)({},n),j)),d=o.isLoading,s=o.error,b=o.data,u=Object(z.c)().data,l=Object(v.a)().open;return Object(x.jsxs)(k.f,{children:[Object(x.jsxs)(k.e,{between:!0,children:[Object(x.jsx)("h1",{children:"\u9879\u76ee\u5217\u8868"}),Object(x.jsx)(k.a,{type:"primary",style:{opacity:"0.8",borderRadius:"15px"},size:"large",onClick:l,children:"\u521b\u5efa\u9879\u76ee"})]}),Object(x.jsx)(w,{users:u||[],param:n,setParam:i}),Object(x.jsx)(k.b,{error:s}),Object(x.jsx)(g,{loading:d,dataSource:b||[],users:u||[]})]})}));t.default=D}}]);
//# sourceMappingURL=9.90cc23c4.chunk.js.map